**Дата:** 15 декабря 2025 г.

**Статус:** Принято

**Контекст:**

Микросервисная система требует комплексной стратегии тестирования:
- Модульные тесты
- Интеграционные тесты
- Контрактные тесты
- End-to-end тесты
- Нагрузочные тесты
- Проверки безопасности

**Рассмотренные варианты:**

1. **xUnit + Moq (backend), Jest + React Testing Library (frontend)**
2. **NUnit + RhinoMocks**
3. **TestContainers для интеграции**
4. **Pact для контрактного тестирования**
5. **Playwright, Cypress, Selenium для E2E**
6. **k6 для нагрузочного тестирования**

**Решение:**

Выбран **комплексный набор инструментов:**
- **Backend Unit:** xUnit + FluentAssertions + Moq
- **Backend Integration:** TestContainers + WebApplicationFactory
- **Frontend Unit/Component:** Jest + React Testing Library + Storybook
- **Contract Testing:** Pact
- **E2E Web:** Playwright
- **E2E Mobile:** Detox
- **Performance:** k6
- **Security:** OWASP ZAP + сканирование зависимостей
- **Code Quality:** SonarQube

**Обоснование:**

- **xUnit + FluentAssertions + Moq:** современный фреймворк, понятный синтаксис
- **TestContainers:** воспроизводимое тестирование с реальными сервисами
- **Jest + React Testing Library:** быстрый раннер, фокус на поведении
- **Pact:** предотвращение критических изменений
- **Playwright:** быстрее Selenium, поддержка браузеров
- **k6:** удобный DSL для нагрузочных тестов

**Недостатки решения:**

- **Сложность поддержки:** много инструментов
- **Нестабильные тесты:** особенно E2E
- **Время на написание тестов:** требует ресурсов
- **Сложность CI/CD:** может быть медленным

**Последствия:**

- Культура тестирования в команде
- Руководства по написанию тестов
- Оптимизация CI/CD pipeline
- Быстрые smoke-тесты
- Карантин нестабильных тестов
- Нагрузочные тесты как часть критериев приёма
- Регулярное сканирование зависимостей