**Дата:** 14 декабря 2025 г.

**Статус:** Принято

**Контекст:**

Система предназначена для мониторинга потребления электроэнергии с функциями аналитики, рекомендаций и интеграции. Необходима архитектура, обеспечивающая масштабируемость и надёжность.

**Рассмотренные варианты:**

1. **Модульный монолит** – единое приложение с модулями
2. **Микросервисы** – независимые сервисы
3. **Serverless** – функции как сервис

**Решение:**

Выбраны **микросервисы**.

**Обоснование:**

- **Независимая масштабируемость:** каждый сервис масштабируется отдельно
- **Чёткая декомпозиция ответственности:** улучшает поддерживаемость
- **Гибкость технологий:** разные сервисы могут использовать разные технологии
- **Независимые развёртывания:** минимизация рисков
- **Асинхронное взаимодействие:** через шину событий
- **Встроенная отказоустойчивость:** отказ одного сервиса не останавливает систему
- **API Gateway:** единая точка входа

**Недостатки решения:**

- **Операционная сложность:** требуется инфраструктура
- **Распределённые транзакции:** нужны паттерны Saga
- **Сетевая задержка:** увеличивает время отклика
- **Консистентность данных:** возможна временная несогласованность
- **Мониторинг и отладка:** сложнее из-за распределённости

**Последствия:**

- Инвестиции в инфраструктуру DevOps
- Стандартизация API, практик развёртывания
- API Gateway для аутентификации, маршрутизации
- Принципы bounded contexts из DDD
- Стратегия обработки ошибок
- Система мониторинга здоровья сервисов